import com.rameses.common.*
import com.rameses.annotations.*
import com.rameses.services.extended.*

class PersonnelService
{
	@DataContext(value="personnel", adapter="training")
	def em

	@ProxyMethod
	public def getList(params){
		//allow lastname search only using searchtext
		if (params.searchtext==null)
		params.searchtext=''
		params.searchtext += '%'
		return em.where('lastname LIKE :searchtext', params)
			.orderBy('lastname,firstname')
			.list()

	}

	@ProxyMethod
	public def create(entity){
		return em.create(entity)
	}

	@ProxyMethod
	public def update(entity){
		return em.update(entity)
	}

	@ProxyMethod
	public void delete(entity){
		em.delete(entity)
	}

	@ProxyMethod
	public def open(entity){
		return em.read(entity)
	}
}